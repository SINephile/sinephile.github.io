<script>
  const hasVisited = localStorage.getItem("sinephile_has_visited");
  const delay = 0;

  setTimeout(() => {
    const isCustomDomain = location.hostname === "www.sinephile.com";
    const isGitHubDomain = location.hostname === "sinephile.github.io";
    const isSecure = location.protocol === "https:";

    // Only redirect when on GitHub Pages, not already on custom domain
    if (!hasVisited && isGitHubDomain && isSecure) {
      localStorage.setItem("sinephile_has_visited", "true");
      window.location.href = "https://www.sinephile.com/start-here";
    } else if (isGitHubDomain && isSecure) {
      window.location.href = "https://www.sinephile.com";
    }
    // No redirect if already on custom domain
  }, delay);
</script>
